{"version":3,"sources":["../src/index.ts","../src/lib/BaseAudioPlugin.ts","../src/lib/BaseFilePlugin.ts","../src/lib/BaseVideoPlugin.ts","../src/lib/image/BaseImagePlugin.ts","../src/lib/image/transforms/insertImage.ts","../src/lib/image/transforms/insertImageFromFiles.ts","../src/lib/image/utils/isImageUrl.ts","../src/lib/image/withImageEmbed.ts","../src/lib/image/withImageUpload.ts","../src/lib/media/insertMedia.ts","../src/lib/media/parseMediaUrl.ts","../src/lib/media-embed/BaseMediaEmbedPlugin.ts","../src/lib/media-embed/parseIframeUrl.ts","../src/lib/media-embed/parseTwitterUrl.ts","../src/lib/media-embed/parseVideoUrl.ts","../src/lib/media-embed/transforms/insertMediaEmbed.ts","../src/lib/placeholder/BasePlaceholderPlugin.ts","../src/lib/placeholder/transforms/insertPlaceholder.ts","../src/lib/placeholder/transforms/setMediaNode.ts"],"sourcesContent":["/**\n * @file Automatically generated by barrelsby.\n */\n\nexport * from './lib/index';\n","import { createSlatePlugin } from '@udecode/plate';\n\nimport type { TMediaElement } from './media';\n\nexport interface TAudioElement extends TMediaElement {}\n\nexport const BaseAudioPlugin = createSlatePlugin({\n  key: 'audio',\n  node: { isElement: true, isVoid: true },\n});\n","import { createSlatePlugin } from '@udecode/plate';\n\nimport type { TMediaElement } from './media';\n\nexport interface TFileElement extends TMediaElement {}\n\nexport const BaseFilePlugin = createSlatePlugin({\n  key: 'file',\n  node: { isElement: true, isVoid: true },\n});\n","import { createSlatePlugin } from '@udecode/plate';\n\nimport type { TMediaElement } from '..';\n\nexport interface TVideoElement extends TMediaElement {}\n\nexport const BaseVideoPlugin = createSlatePlugin({\n  key: 'video',\n  node: {\n    dangerouslyAllowAttributes: ['width', 'height'],\n    isElement: true,\n    isVoid: true,\n  },\n});\n","import {\n  type PluginConfig,\n  bindFirst,\n  createTSlatePlugin,\n} from '@udecode/plate';\n\nimport type { MediaPluginOptions, TMediaElement } from '../media';\n\nimport { insertImageFromFiles } from './transforms';\nimport { withImageEmbed } from './withImageEmbed';\nimport { withImageUpload } from './withImageUpload';\n\nexport type ImageConfig = PluginConfig<\n  'img',\n  {\n    /** Disable url embed on insert data. */\n    disableEmbedInsert?: boolean;\n    /** Disable file upload on insert data. */\n    disableUploadInsert?: boolean;\n    /**\n     * An optional method that will upload the image to a server. The method\n     * receives the base64 dataUrl of the uploaded image, and should return the\n     * URL of the uploaded image.\n     */\n    uploadImage?: (\n      dataUrl: ArrayBuffer | string\n    ) => ArrayBuffer | Promise<ArrayBuffer | string> | string;\n  } & MediaPluginOptions\n>;\n\nexport interface TImageElement extends TMediaElement {\n  initialHeight?: number;\n  initialWidth?: number;\n}\n\n/** Enables support for images. */\nexport const BaseImagePlugin = createTSlatePlugin<ImageConfig>({\n  key: 'img',\n  node: {\n    dangerouslyAllowAttributes: ['alt', 'width', 'height'],\n    isElement: true,\n    isVoid: true,\n  },\n  parsers: {\n    html: {\n      deserializer: {\n        rules: [\n          {\n            validNodeName: 'IMG',\n          },\n        ],\n        parse: ({ element, type }) => ({\n          type,\n          url: element.getAttribute('src'),\n        }),\n      },\n    },\n  },\n})\n  .overrideEditor(withImageUpload)\n  .overrideEditor(withImageEmbed)\n  .extendEditorTransforms(({ editor }) => ({\n    insert: {\n      imageFromFiles: bindFirst(insertImageFromFiles, editor),\n    },\n  }));\n","import type { InsertNodesOptions, SlateEditor } from '@udecode/plate';\n\nimport { type TImageElement, BaseImagePlugin } from '../BaseImagePlugin';\n\nexport const insertImage = (\n  editor: SlateEditor,\n  url: ArrayBuffer | string,\n  options: InsertNodesOptions = {}\n) => {\n  const text = { text: '' };\n  const image: TImageElement = {\n    children: [text],\n    type: editor.getType(BaseImagePlugin),\n    url: url as any,\n  };\n  editor.tf.insertNodes<TImageElement>(image, {\n    nextBlock: true,\n    ...(options as any),\n  });\n};\n","import type { InsertNodesOptions, SlateEditor } from '@udecode/plate';\n\nimport { BaseImagePlugin } from '../BaseImagePlugin';\nimport { insertImage } from './insertImage';\n\nexport const insertImageFromFiles = (\n  editor: SlateEditor,\n  files: FileList,\n  options: InsertNodesOptions = {}\n) => {\n  for (const file of files) {\n    const reader = new FileReader();\n    const [mime] = file.type.split('/');\n\n    if (mime === 'image') {\n      reader.addEventListener('load', async () => {\n        if (!reader.result) {\n          return;\n        }\n\n        const uploadImage = editor.getOptions(BaseImagePlugin).uploadImage;\n\n        const uploadedUrl = uploadImage\n          ? await uploadImage(reader.result)\n          : reader.result;\n\n        insertImage(editor, uploadedUrl, options);\n      });\n\n      reader.readAsDataURL(file);\n    }\n  }\n};\n","import { isUrl } from '@udecode/plate';\n\nconst imageExtensions = new Set([\n  '3dv',\n  'ai',\n  'amf',\n  'art',\n  'art',\n  'ase',\n  'awg',\n  'blp',\n  'bmp',\n  'bw',\n  'bw',\n  'cd5',\n  'cdr',\n  'cgm',\n  'cit',\n  'cmx',\n  'cpt',\n  'cr2',\n  'cur',\n  'cut',\n  'dds',\n  'dib',\n  'djvu',\n  'dxf',\n  'e2d',\n  'ecw',\n  'egt',\n  'egt',\n  'emf',\n  'eps',\n  'exif',\n  'fs',\n  'gbr',\n  'gif',\n  'gpl',\n  'grf',\n  'hdp',\n  'icns',\n  'ico',\n  'iff',\n  'iff',\n  'int',\n  'int',\n  'inta',\n  'jfif',\n  'jng',\n  'jp2',\n  'jpeg',\n  'jpg',\n  'jps',\n  'jxr',\n  'lbm',\n  'lbm',\n  'liff',\n  'max',\n  'miff',\n  'mng',\n  'msp',\n  'nitf',\n  'nrrd',\n  'odg',\n  'ota',\n  'pam',\n  'pbm',\n  'pc1',\n  'pc2',\n  'pc3',\n  'pcf',\n  'pct',\n  'pcx',\n  'pcx',\n  'pdd',\n  'pdn',\n  'pgf',\n  'pgm',\n  'PI1',\n  'PI2',\n  'PI3',\n  'pict',\n  'png',\n  'pnm',\n  'pns',\n  'ppm',\n  'psb',\n  'psd',\n  'psp',\n  'px',\n  'pxm',\n  'pxr',\n  'qfx',\n  'ras',\n  'raw',\n  'rgb',\n  'rgb',\n  'rgba',\n  'rle',\n  'sct',\n  'sgi',\n  'sgi',\n  'sid',\n  'stl',\n  'sun',\n  'svg',\n  'sxd',\n  'tga',\n  'tga',\n  'tif',\n  'tiff',\n  'v2d',\n  'vnd',\n  'vrml',\n  'vtf',\n  'wdp',\n  'webp',\n  'wmf',\n  'x3d',\n  'xar',\n  'xbm',\n  'xcf',\n  'xpm',\n]);\n\nexport const isImageUrl = (url: string) => {\n  if (!isUrl(url)) return false;\n\n  const ext = new URL(url).pathname.split('.').pop() as string;\n\n  return imageExtensions.has(ext);\n};\n","import type { OverrideEditor } from '@udecode/plate';\n\nimport type { ImageConfig } from './BaseImagePlugin';\n\nimport { insertImage } from './transforms/insertImage';\nimport { isImageUrl } from './utils/isImageUrl';\n\n/** If inserted text is image url, insert image instead. */\nexport const withImageEmbed: OverrideEditor<ImageConfig> = ({\n  editor,\n  getOptions,\n  tf: { insertData },\n}) => ({\n  transforms: {\n    insertData(dataTransfer) {\n      if (getOptions().disableEmbedInsert) {\n        return insertData(dataTransfer);\n      }\n\n      const text = dataTransfer.getData('text/plain');\n\n      if (isImageUrl(text)) {\n        insertImage(editor, text);\n\n        return;\n      }\n\n      insertData(dataTransfer);\n    },\n  },\n});\n","import {\n  type OverrideEditor,\n  getInjectedPlugins,\n  pipeInsertDataQuery,\n} from '@udecode/plate';\n\nimport type { ImageConfig } from './BaseImagePlugin';\n\nimport { insertImageFromFiles } from './transforms';\n\n/**\n * Allows for pasting images from clipboard. Not yet: dragging and dropping\n * images, selecting them through a file system dialog.\n */\nexport const withImageUpload: OverrideEditor<ImageConfig> = ({\n  editor,\n  getOptions,\n  plugin,\n  tf: { insertData },\n}) => ({\n  transforms: {\n    insertData(dataTransfer) {\n      if (getOptions().disableUploadInsert) {\n        return insertData(dataTransfer);\n      }\n\n      const text = dataTransfer.getData('text/plain');\n      const { files } = dataTransfer;\n\n      if (!text && files && files.length > 0) {\n        const injectedPlugins = getInjectedPlugins(editor, plugin);\n\n        if (\n          !pipeInsertDataQuery(editor, injectedPlugins, {\n            data: text,\n            dataTransfer,\n          })\n        ) {\n          return insertData(dataTransfer);\n        }\n\n        insertImageFromFiles(editor, files);\n      } else {\n        return insertData(dataTransfer);\n      }\n    },\n  },\n});\n","import type { InsertNodesOptions, SlateEditor } from '@udecode/plate';\n\nimport {\n  BaseImagePlugin,\n  BaseMediaEmbedPlugin,\n  insertImage,\n  insertMediaEmbed,\n} from '../..';\n\nexport interface InsertMediaOptions extends InsertNodesOptions {\n  /**\n   * Default onClick is getting the image url by calling this promise before\n   * inserting the image.\n   */\n  type?: string;\n\n  getUrl?: () => Promise<string>;\n}\n\nexport const insertMedia = async <E extends SlateEditor>(\n  editor: E,\n  {\n    getUrl,\n    type = editor.getType(BaseImagePlugin),\n    ...options\n  }: InsertMediaOptions = {}\n) => {\n  const url = getUrl\n    ? await getUrl()\n    : window.prompt(\n        `Enter the URL of the ${\n          type === BaseImagePlugin.key\n            ? BaseImagePlugin.key\n            : BaseMediaEmbedPlugin.key\n        }`\n      );\n\n  if (!url) return;\n  if (type === editor.getType(BaseImagePlugin)) {\n    insertImage(editor, url, options);\n  } else {\n    insertMediaEmbed(editor, { url }, options);\n  }\n};\n","export type EmbedUrlData = {\n  id?: string;\n  provider?: string;\n  url?: string;\n};\n\nexport type EmbedUrlParser = (url: string) => EmbedUrlData | undefined;\n\n// Unlike the link plugin, there's no legitimate reason for non-HTTP source URLs\nconst allowedProtocols = new Set(['http:', 'https:']);\n\nexport const parseMediaUrl = (\n  url: string,\n  {\n    urlParsers,\n  }: {\n    urlParsers: EmbedUrlParser[];\n  }\n): EmbedUrlData | undefined => {\n  const embed = (() => {\n    for (const parser of urlParsers) {\n      const data = parser(url);\n\n      if (data) {\n        return data;\n      }\n    }\n  })();\n\n  // Harden against XSS\n  if (embed?.url) {\n    try {\n      const { protocol } = new URL(embed.url);\n\n      if (!allowedProtocols.has(protocol)) {\n        return undefined;\n      }\n    } catch {\n      console.warn('Could not parse URL: ' + embed.url);\n\n      return undefined;\n    }\n  }\n\n  return embed;\n};\n","import { type PluginConfig, createTSlatePlugin } from '@udecode/plate';\n\nimport type { MediaPluginOptions, TMediaElement } from '../media/index';\n\nimport { parseIframeUrl } from './parseIframeUrl';\n\nexport type MediaEmbedConfig = PluginConfig<'media_embed', MediaPluginOptions>;\n\nexport interface TMediaEmbedElement extends TMediaElement {}\n\n/**\n * Enables support for embeddable media such as YouTube or Vimeo videos,\n * Instagram posts and tweets or Google Maps.\n */\nexport const BaseMediaEmbedPlugin = createTSlatePlugin<MediaEmbedConfig>({\n  key: 'media_embed',\n  node: { isElement: true, isVoid: true },\n  options: {\n    transformUrl: parseIframeUrl,\n  },\n  parsers: {\n    html: {\n      deserializer: {\n        rules: [\n          {\n            validNodeName: 'IFRAME',\n          },\n        ],\n        parse: ({ element, type }) => {\n          const url = element.getAttribute('src');\n\n          if (url) {\n            return {\n              type,\n              url,\n            };\n          }\n        },\n      },\n    },\n  },\n});\n","export const parseIframeUrl = (url: string) => {\n  // if not starting with http, assume pasting of full iframe embed code\n  if (!url.startsWith('http')) {\n    const regexMatchSrc = /src=\".*?\"/;\n    const regexGroupQuotes = /\"([^\"]*)\"/;\n\n    const src = regexMatchSrc.exec(url)?.[0];\n    const returnString = src?.match(regexGroupQuotes)?.[1];\n\n    if (returnString) {\n      url = returnString;\n    }\n  }\n\n  return url;\n};\n","import type { EmbedUrlData } from '../media/parseMediaUrl';\n\nconst twitterRegex =\n  /^https?:\\/\\/(?:twitter|x)\\.com\\/(?:#!\\/)?(\\w+)\\/status(es)?\\/(\\d+)/;\n\nconst TWITTER_ID_INDEX = 3;\n\nexport const parseTwitterUrl = (url: string): EmbedUrlData | undefined => {\n  const match = twitterRegex.exec(url);\n\n  if (match) {\n    return {\n      id: match[TWITTER_ID_INDEX],\n      provider: 'twitter',\n      url,\n    };\n  }\n};\n","import { isUrl } from '@udecode/plate';\nimport videoParser from 'js-video-url-parser';\n\nimport type { EmbedUrlData } from '../media';\n\nconst YOUTUBE_PREFIX = 'https://www.youtube.com/embed/';\nconst VIMEO_PREFIX = 'https://player.vimeo.com/video/';\nconst DAILYMOTION_PREFIX = 'https://www.dailymotion.com/embed/video/';\nconst YOUKU_PREFIX = 'https://player.youku.com/embed/';\nconst COUB_PREFIX = 'https://coub.com/embed/';\n\nexport const VIDEO_PROVIDERS = [\n  'youtube',\n  'vimeo',\n  'dailymotion',\n  'youku',\n  'coub',\n];\n\nexport const parseVideoUrl = (url: string): EmbedUrlData | undefined => {\n  if (!isUrl(url)) return;\n\n  const videoData = videoParser.parse(url);\n\n  if (videoData?.provider && videoData.id) {\n    const { id, provider } = videoData;\n\n    const providerUrls: Record<string, string> = {\n      coub: `${COUB_PREFIX}${id}`,\n      dailymotion: `${DAILYMOTION_PREFIX}${id}`,\n      vimeo: `${VIMEO_PREFIX}${id}`,\n      youku: `${YOUKU_PREFIX}${id}`,\n      youtube: `${YOUTUBE_PREFIX}${id}`,\n    };\n\n    return {\n      id,\n      provider,\n      url: providerUrls[provider],\n    };\n  }\n};\n","import type { InsertNodesOptions, SlateEditor } from '@udecode/plate';\n\nimport {\n  type TMediaEmbedElement,\n  BaseMediaEmbedPlugin,\n} from '../BaseMediaEmbedPlugin';\n\nexport const insertMediaEmbed = (\n  editor: SlateEditor,\n  { url = '' }: Partial<TMediaEmbedElement>,\n  options: InsertNodesOptions = {}\n): void => {\n  if (!editor.selection) return;\n\n  const selectionParentEntry = editor.api.parent(editor.selection);\n\n  if (!selectionParentEntry) return;\n\n  const [, path] = selectionParentEntry;\n  editor.tf.insertNodes<TMediaEmbedElement>(\n    {\n      children: [{ text: '' }],\n      type: editor.getType(BaseMediaEmbedPlugin),\n      url,\n    },\n    {\n      at: path,\n      nextBlock: true,\n      ...(options as any),\n    }\n  );\n};\n","import {\n  type PluginConfig,\n  type TElement,\n  bindFirst,\n  createTSlatePlugin,\n} from '@udecode/plate';\n\nimport {\n  insertAudioPlaceholder,\n  insertFilePlaceholder,\n  insertImagePlaceholder,\n  insertVideoPlaceholder,\n} from './transforms';\n\nexport interface MediaPlaceholderOptions {\n  rules?: PlaceholderRule[];\n}\n\nexport type PlaceholderConfig = PluginConfig<\n  'placeholder',\n  MediaPlaceholderOptions\n>;\n\nexport interface PlaceholderRule {\n  mediaType: string;\n}\n\nexport interface TPlaceholderElement extends TElement {\n  mediaType: string;\n}\n\nexport const BasePlaceholderPlugin = createTSlatePlugin<PlaceholderConfig>({\n  key: 'placeholder',\n  node: { isElement: true, isVoid: true },\n}).extendEditorTransforms(({ editor }) => ({\n  insert: {\n    audioPlaceholder: bindFirst(insertAudioPlaceholder, editor),\n    filePlaceholder: bindFirst(insertFilePlaceholder, editor),\n    imagePlaceholder: bindFirst(insertImagePlaceholder, editor),\n    videoPlaceholder: bindFirst(insertVideoPlaceholder, editor),\n  },\n}));\n","import type { InsertNodesOptions, SlateEditor } from '@udecode/plate';\n\nimport { BaseAudioPlugin } from '../../BaseAudioPlugin';\nimport { BaseFilePlugin } from '../../BaseFilePlugin';\nimport { BaseVideoPlugin } from '../../BaseVideoPlugin';\nimport { BaseImagePlugin } from '../../image';\nimport {\n  type TPlaceholderElement,\n  BasePlaceholderPlugin,\n} from '../BasePlaceholderPlugin';\n\nexport const insertPlaceholder = (\n  editor: SlateEditor,\n  mediaType: string,\n  options?: InsertNodesOptions\n) => {\n  editor.tf.withoutNormalizing(() =>\n    editor.tf.insertNodes<TPlaceholderElement>(\n      {\n        children: [{ text: '' }],\n        mediaType,\n        type: editor.getType(BasePlaceholderPlugin),\n      },\n      options as any\n    )\n  );\n};\n\nexport const insertImagePlaceholder = (\n  editor: SlateEditor,\n  options?: InsertNodesOptions\n) => insertPlaceholder(editor, BaseImagePlugin.key, options);\n\nexport const insertVideoPlaceholder = (\n  editor: SlateEditor,\n  options?: InsertNodesOptions\n) => insertPlaceholder(editor, BaseVideoPlugin.key, options);\n\nexport const insertAudioPlaceholder = (\n  editor: SlateEditor,\n  options?: InsertNodesOptions\n) => insertPlaceholder(editor, BaseAudioPlugin.key, options);\n\nexport const insertFilePlaceholder = (\n  editor: SlateEditor,\n  options?: InsertNodesOptions\n) => insertPlaceholder(editor, BaseFilePlugin.key, options);\n","import type { SetNodesOptions, SlateEditor } from '@udecode/plate';\n\ntype props = {\n  type: string;\n  url: string;\n  id?: string;\n  initialHeight?: number;\n  initialWidth?: number;\n  isUpload?: boolean;\n  name?: string;\n  placeholderId?: string;\n  width?: number;\n};\n\nexport const setMediaNode = (\n  editor: SlateEditor,\n  props: props,\n  options?: SetNodesOptions\n) => editor.tf.setNodes(props, options);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACAA,mBAAkC;AAM3B,IAAM,sBAAkB,gCAAkB;AAAA,EAC/C,KAAK;AAAA,EACL,MAAM,EAAE,WAAW,MAAM,QAAQ,KAAK;AACxC,CAAC;;;ACTD,IAAAA,gBAAkC;AAM3B,IAAM,qBAAiB,iCAAkB;AAAA,EAC9C,KAAK;AAAA,EACL,MAAM,EAAE,WAAW,MAAM,QAAQ,KAAK;AACxC,CAAC;;;ACTD,IAAAC,gBAAkC;AAM3B,IAAM,sBAAkB,iCAAkB;AAAA,EAC/C,KAAK;AAAA,EACL,MAAM;AAAA,IACJ,4BAA4B,CAAC,SAAS,QAAQ;AAAA,IAC9C,WAAW;AAAA,IACX,QAAQ;AAAA,EACV;AACF,CAAC;;;ACbD,IAAAC,gBAIO;;;ACAA,IAAM,cAAc,CACzB,QACA,KACA,UAA8B,CAAC,MAC5B;AACH,QAAM,OAAO,EAAE,MAAM,GAAG;AACxB,QAAM,QAAuB;AAAA,IAC3B,UAAU,CAAC,IAAI;AAAA,IACf,MAAM,OAAO,QAAQ,eAAe;AAAA,IACpC;AAAA,EACF;AACA,SAAO,GAAG,YAA2B,OAAO;AAAA,IAC1C,WAAW;AAAA,IACX,GAAI;AAAA,EACN,CAAC;AACH;;;ACdO,IAAM,uBAAuB,CAClC,QACA,OACA,UAA8B,CAAC,MAC5B;AACH,aAAW,QAAQ,OAAO;AACxB,UAAM,SAAS,IAAI,WAAW;AAC9B,UAAM,CAAC,IAAI,IAAI,KAAK,KAAK,MAAM,GAAG;AAElC,QAAI,SAAS,SAAS;AACpB,aAAO,iBAAiB,QAAQ,YAAY;AAC1C,YAAI,CAAC,OAAO,QAAQ;AAClB;AAAA,QACF;AAEA,cAAM,cAAc,OAAO,WAAW,eAAe,EAAE;AAEvD,cAAM,cAAc,cAChB,MAAM,YAAY,OAAO,MAAM,IAC/B,OAAO;AAEX,oBAAY,QAAQ,aAAa,OAAO;AAAA,MAC1C,CAAC;AAED,aAAO,cAAc,IAAI;AAAA,IAC3B;AAAA,EACF;AACF;;;AChCA,IAAAC,gBAAsB;AAEtB,IAAM,kBAAkB,oBAAI,IAAI;AAAA,EAC9B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;A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","names":["import_plate","import_plate","import_plate","import_plate","import_plate","import_plate","import_plate","videoParser","import_plate"]}